// Definir variables importantes (let para modificar el carro).
const sectionShirts = document.querySelector("section.section-remeras");
const totalPrice = document.querySelector('#total');
const listShop = document.querySelector('#lista-compras');
const shop = document.querySelector('.carrito');
const buyButton = document.querySelector('#comprar-button');

// LocalStorage para la lista del carrito.
let carritoStorage = JSON.parse(localStorage.getItem("listShop")) || [];

// Cargar las remeras desde un json local.
fetch("scripts/shirts.json")
    .then(response => response.json())
    .then(shirts => {
        const theShirts = shirts.map(shirt => `
            <div class="beatles-card" id="${shirt.id}">
                <img src="images/${shirt.id}-remera.png" alt="Remera de ${shirt.name}">
                <h2>${shirt.name}</h2>
                <p>Precio: $${shirt.valor}</p>
                <button class="button-card">Agregar al carrito</button>
            </div>
        `);

        sectionShirts.innerHTML = theShirts.join("");
    })

    // En el caso de que ocurra un error con la carga de shirts.json, mostrar ese mensaje de la libreria sweetalert.
    .catch((error) => {
        Swal.fire({
            icon: 'error',
            title: 'Error al cargar las remeras',
            text: 'Ocurri√≥ un error, vuelve a intentarlo en otro momento.',
        });
    });
